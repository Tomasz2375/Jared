@using Jared.Shared.Enums;
@using Jared.Presentation.Components.Basic
@inject IMediator Mediator

@if (Dto is null)
{
    return;
}

<div class="form-modal-base">
    <div class="form-modal">
        <EditForm Model="@Dto" OnValidSubmit="save">
            <FluentValidationValidator />
            <div class="form-modal-header">
                <h4 class="form-modal-title">@Title</h4>
                <button class="btn form-close" @onclick="cancel">✖</button>
            </div>
            <div class="form-modal-content">
                <div class="form-modal-details">
                    <InputTextField 
                        @bind-Value="@Dto.Title"
                        Id="title"
                        Label="Title"
                        ValidationFor="(() => Dto.Title)" />
                    <InputTextField 
                        @bind-Value="@Dto.Code"
                        Id="code"
                        Label="Code"
                        ValidationFor="(() => Dto.Code)" />
                    <InputTextAreaField
                        @bind-Value="@Dto.Description"
                        Id="description"
                        Label="Description"
                        ValidationFor="(() => Dto.Description)" />
                </div>
            </div>
            <div class="form-modal-footer">
                <button class="btn btn-primary-dialog" @onclick="save">Save</button>
                <button class="btn btn-danger" @onclick="cancel">Cancel</button>
            </div>
        </EditForm>
    </div>
</div>
