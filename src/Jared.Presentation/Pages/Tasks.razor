@page "/tasks"
@inject IMediator Mediator

@if (Model is null)
{
    return;
}

<DataGrid
    Title="Tasks"
    TItem="TaskListDto"
    Items="Model.Tasks"
    ItemsDefinition="new TaskListDefinition().GetColumns()"
    Pagination="Model.Pagination"
    SwitchPagination="true"
    Query="Query"
    SendPageQuery="sendPageQuery"
    ShowDialog="(id => showDialogWithId = id)" />

@if (showDialogWithId > 0)
{
    <TaskDetailsForm Id="@showDialogWithId" CloseDialog="(() => showDialogWithId = 0)" />
}
